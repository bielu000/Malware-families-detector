#!/usr/bin/env python

import os
from shutil import copyfile

d = {}

dirFrom = "ml1"
dirTo = "ml4"
dataType = "test";

with open("{0}/{1}/{1}Labels-1500.csv".format(dirFrom, dataType), "r") as f:
    lines = f.readlines()

    for line in lines:
        fname, cat = line.split(' ; ')
        
        if cat not in d:
            d[cat] = []

        if len(d[cat]) > 40:
            continue
        
        d[cat].append(fname)

with open("{0}/{1}/{1}Labels-360.csv".format(dirTo, dataType), "w+") as f2:
    for k, vec in d.items():
        print vec
        for val in vec:
            print val

            val = val.replace('\n', '')
            f2.write("{0} ; {1}".format(val, k))
            copyfile("{0}/{1}/{2}".format(dirFrom,dataType,val), "{0}/{1}/{2}".format(dirTo, dataType, val))

