//
// Created by pp on 26.01.19.
//

#ifndef THESIS_FILECONFIGURATIONPROVIDER_HPP
#define THESIS_FILECONFIGURATIONPROVIDER_HPP

#include "ConfigProvider.hpp"

#include <memory>

class FileConfigProvider : public ConfigProvider
{
public:
    FileConfigProvider(const std::string& fname)
        : _filename(fname)
    {}
    void addConfiguration(const Config& cfg) override;
    void save() override;
    const std::vector<Config> getAllConfigurations() override;
    const Config getConfiguration(const std::string& id) override;

private:
    void init();

private:
    std::vector<Config> _configs;
    bool _isInitialized = false;
    std::string _filename;
};

#endif //THESIS_FILECONFIGURATIONPROVIDER_HPP
