//
// Created by pp on 19.01.19.
//

#ifndef THESIS_MESSAGEBUS_HPP
#define THESIS_MESSAGEBUS_HPP

#include <boost/signals2/signal.hpp>
#include "../../events/events.hpp"

class MessageBus
{
public:
    //SIGNALS
    // --- DETECTION ENGINE --- //
    boost::signals2::signal<void (const TrainingStarted)> onTrainingStarted;
    boost::signals2::signal<void (const TrainingCompleted)> onTrainingCompleted;
    boost::signals2::signal<void (const StageChanged)> onStageChanged;
    boost::signals2::signal<void (const TestStarted)> onTestStarted;
    boost::signals2::signal<void (const TestCompleted)> onTestCompleted;


    // --- GENERAL --- //
    boost::signals2::signal<void (const ErrorOccurred)> onErrorOccurred;



    void event(const TrainingStarted ev) { onTrainingStarted(ev); }
    void event(const TrainingCompleted ev) { onTrainingCompleted(ev); }
    void event(const StageChanged ev) { onStageChanged(ev); }
    void event(const TestStarted ev) { onTestStarted(ev); }
    void event(const TestCompleted ev) { onTestCompleted(ev); }

};

#endif //THESIS_MESSAGEBUS_HPP
