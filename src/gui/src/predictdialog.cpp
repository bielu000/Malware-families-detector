#include <QtWidgets/QFileDialog>
#include <QtWidgets/QMessageBox>
#include "../include/predictdialog.hpp"
#include "ui_predictdialog.h"

PredictDialog::PredictDialog(QWidget *parent) :
    QDialog(parent),
    ui(new Ui::PredictDialog)
{
    ui->setupUi(this);

    ui->filepathTextEdit->setReadOnly(true);
}

PredictDialog::~PredictDialog()
{
    delete ui;
}

void PredictDialog::on_selectFilepathPushButton_clicked()
{
    _filepath = QFileDialog::getOpenFileName(nullptr, tr("Wybierz plik"), "/home/pp/CLionProjects/thesis", tr("Plik JPG (*.jpg)"));

    ui->filepathTextEdit->setText(_filepath);
}

void PredictDialog::on_confirmPushButton_clicked()
{
    if (!isValid()) {
        QMessageBox box;
        box.setWindowTitle("Uwaga!");
        box.setText("Uzupe≈Çnij wymagane pola.");
        box.exec();

        return;
    }

    accept();
}

void PredictDialog::on_cancelPushButton_clicked()
{
    reject();
}

bool PredictDialog::isValid()
{
    return !_filepath.isEmpty();
}